
import React, { SVGProps } from 'react';

// Icons
const ChartPieIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z" /><path strokeLinecap="round" strokeLinejoin="round" d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z" /></svg>
);
const UsersIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-2.253M15 19.128v-3.86a2.25 2.25 0 0 1 3.375-1.649l2.25 1.125m-12-3.86a2.25 2.25 0 0 0-3.375-1.649l-2.25 1.125a2.25 2.25 0 0 0-1.125 2.25V19.5h3.375m12-12.86-3.375 1.688a2.25 2.25 0 0 1-3.375 0L3 11.128M15 5.25v.039m0 0a2.25 2.25 0 0 1-2.25-2.25a2.25 2.25 0 0 1 2.25-2.25a2.25 2.25 0 0 1 2.25 2.25a2.25 2.25 0 0 1-2.25 2.25Z" /></svg>
);
const ClipboardDocumentListIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 12 2.25a2.251 2.251 0 0 1 1.024.28M12 21a9.75 9.75 0 0 1-8.314-4.469l.995-1.666a2.25 2.25 0 0 1 3.541-1.229a4.5 4.5 0 0 0 4.28 0a2.25 2.25 0 0 1 3.541 1.229l.995 1.666A9.75 9.75 0 0 1 12 21Z" /></svg>
);
const CalendarDaysIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18M-4.5 12h22.5" /></svg>
);
const DocumentChartBarIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" /></svg>
);
const Cog6ToothIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M9.594 3.94c.09-.542.56-1.003 1.11-1.226a2.25 2.25 0 0 1 2.593 1.226c.09.542.56 1.003 1.11 1.226a2.25 2.25 0 0 1 1.608 2.286c-.058.636.236 1.234.74 1.608a2.25 2.25 0 0 1 .458 2.122c-.226.55-.687 1.01-1.226 1.11a2.25 2.25 0 0 1-2.286 1.608c-.636-.058-1.234.236-1.608.74a2.25 2.25 0 0 1-2.122.458c-.55-.226-1.01-.687-1.11-1.226a2.25 2.25 0 0 1-1.608-2.286c.058-.636-.236-1.234-.74-1.608a2.25 2.25 0 0 1-.458-2.122c.226-.55.687-1.01 1.226-1.11a2.25 2.25 0 0 1 2.286-1.608Zm12 4.504a2.25 2.25 0 0 1 .458 2.122c-.226.55-.687 1.01-1.226 1.11a2.25 2.25 0 0 1-2.286 1.608c-.636-.058-1.234.236-1.608.74a2.25 2.25 0 0 1-2.122.458c-.55-.226-1.01-.687-1.11-1.226a2.25 2.25 0 0 1-1.608-2.286c.058-.636-.236-1.234-.74-1.608a2.25 2.25 0 0 1-.458-2.122c.226-.55.687-1.01 1.226-1.11a2.25 2.25 0 0 1 2.286-1.608c.636.058 1.234-.236 1.608-.74a2.25 2.25 0 0 1 2.122-.458c.55.226 1.01.687 1.11 1.226a2.25 2.25 0 0 1 1.608 2.286c-.058.636.236 1.234.74 1.608Z" /></svg>
);
const ArrowLeftOnRectangleIcon = (props: SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}><path strokeLinecap="round" strokeLinejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" /></svg>
);

const navItems = [
    { id: 'dashboard', name: 'Dashboard', icon: ChartPieIcon },
    { id: 'leads', name: 'Leads', icon: UsersIcon },
    { id: 'tasks', name: 'Tasks', icon: ClipboardDocumentListIcon },
    { id: 'calendar', name: 'Calendar', icon: CalendarDaysIcon },
    { id: 'reports', name: 'Reports', icon: DocumentChartBarIcon },
    { id: 'settings', name: 'Settings', icon: Cog6ToothIcon },
];

interface SidebarProps {
    currentPage: string;
    onNavigate: (page: string) => void;
    onLogout: () => void;
    isOpen: boolean;
    onClose: () => void;
}

export default function Sidebar({ currentPage, onNavigate, onLogout, isOpen, onClose }: SidebarProps): React.ReactElement {
    
    const handleNavigation = (page: string) => {
        onNavigate(page);
        onClose(); // Close sidebar on navigation on mobile
    }

    const sidebarContent = (
        <div className="h-full flex flex-col">
            <div className="p-6 flex items-center gap-3">
                <div className="p-2 bg-indigo-600 rounded-lg">
                    <svg className="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h12A2.25 2.25 0 0 0 20.25 14.25V3m-16.5 0h16.5m-16.5 0H3.75m16.5 0h.008v.008h-.008V3Zm-1.5 6h.008v.008h-.008V9Zm-1.5 0h.008v.008h-.008V9Zm-1.5 0h.008v.008h-.008V9Zm-1.5 0h.008v.008h-.008V9Zm-1.5 0h.008v.008h-.008V9Zm-1.5 0h.008v.008h-.008V9Zm-1.5 0h.008v.008h-.008V9Z" /></svg>
                </div>
                <h1 className="text-xl font-bold text-white">LeadGenius</h1>
            </div>
            <nav className="flex-1 px-4 space-y-2">
                {navItems.map(item => (
                    <a
                        key={item.id}
                        href="#"
                        onClick={(e) => {
                            e.preventDefault();
                            handleNavigation(item.id);
                        }}
                        className={`flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm font-medium ${
                            currentPage === item.id 
                                ? 'bg-indigo-600 text-white' 
                                : 'text-slate-400 hover:bg-slate-700 hover:text-white'
                        }`}
                    >
                        <item.icon className="w-5 h-5" />
                        <span>{item.name}</span>
                    </a>
                ))}
            </nav>
            <div className="p-4 mt-auto">
                <a
                    href="#"
                    onClick={(e) => {
                        e.preventDefault();
                        onLogout();
                    }}
                    className="flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm font-medium text-slate-400 hover:bg-slate-700 hover:text-white"
                >
                    <ArrowLeftOnRectangleIcon className="w-5 h-5" />
                    <span>Logout</span>
                </a>
            </div>
        </div>
    );

    return (
        <>
            {/* Mobile Sidebar */}
            <div className={`fixed inset-0 z-40 bg-black bg-opacity-50 transition-opacity lg:hidden ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={onClose}></div>
            <aside className={`fixed top-0 left-0 z-50 w-64 h-full bg-slate-800 border-r border-slate-700/50 transform transition-transform lg:translate-x-0 ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>
               {sidebarContent}
            </aside>

            {/* Desktop Sidebar */}
            <aside className="hidden lg:block fixed top-0 left-0 w-64 h-full bg-slate-800 border-r border-slate-700/50">
                {sidebarContent}
            </aside>
        </>
    );
}
